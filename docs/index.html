<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>drake</title> <link rel="drake icon" type = "image/x-icon" href="icon.ico"/>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">drake</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/drake.html">Get Started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="articles/faq.html">FAQ</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/example-packages.html">Example: R package download trends</a>
    </li>
    <li>
      <a href="articles/example-gsp.html">Example: gross state products</a>
    </li>
    <li>
      <a href="articles/example-basic.html">Basic example</a>
    </li>
    <li>
      <a href="articles/best-practices.html">General best practices for drake projects</a>
    </li>
    <li>
      <a href="articles/debug.html">Debugging and testing drake projects</a>
    </li>
    <li>
      <a href="articles/graph.html">Graphs with drake</a>
    </li>
    <li>
      <a href="articles/parallelism.html">Parallel computing</a>
    </li>
    <li>
      <a href="articles/timing.html">Time logging</a>
    </li>
    <li>
      <a href="articles/storage.html">Storage</a>
    </li>
    <li>
      <a href="articles/caution.html">Caution</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ropensci/drake">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="contents col-md-9">
    
<p><img src="https://ropensci.github.io/drake/images/infographic.svg" alt="infographic" align="center" style="border: none; float: center;"></p>
<table class="table">
<thead><tr class="header">
<th align="left">Release</th>
<th align="left">Usage</th>
<th align="left">Development</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><a href="https://doi.org/10.21105/joss.00550"><img src="http://joss.theoj.org/papers/10.21105/joss.00550/status.svg" alt="JOSS"></a></td>
<td align="left"><a href="https://www.gnu.org/licenses/gpl-3.0.en.html"><img src="https://img.shields.io/badge/licence-GPL--3-blue.svg" alt="Licence"></a></td>
<td align="left"><a href="https://ci.appveyor.com/project/ropensci/drake"><img src="https://ci.appveyor.com/api/projects/status/4ypc9xnmqt70j94e?svg=true&amp;branch=master" alt="AppVeyor"></a></td>
</tr>
<tr class="even">
<td align="left"><a href="https://github.com/ropensci/onboarding/issues/156"><img src="https://badges.ropensci.org/156_status.svg" alt="rOpenSci"></a></td>
<td align="left"><a href="https://cran.r-project.org/"><img src="https://img.shields.io/badge/R%3E%3D-3.2.0-blue.svg" alt="minimal R version"></a></td>
<td align="left"><a href="https://travis-ci.org/ropensci/drake"><img src="https://travis-ci.org/ropensci/drake.svg?branch=master" alt="Travis"></a></td>
</tr>
<tr class="odd">
<td align="left"><a href="http://cran.r-project.org/package=drake"><img src="http://www.r-pkg.org/badges/version/drake" alt="CRAN"></a></td>
<td align="left"><a href="http://cran.rstudio.com/package=drake"><img src="http://cranlogs.r-pkg.org/badges/drake" alt="downloads"></a></td>
<td align="left"><a href="https://codecov.io/github/ropensci/drake?branch=master"><img src="https://codecov.io/github/ropensci/drake/coverage.svg?branch=master" alt="Codecov"></a></td>
</tr>
<tr class="even">
<td align="left"><a href="https://zenodo.org/badge/latestdoi/82609103"><img src="https://zenodo.org/badge/82609103.svg" alt="Zenodo"></a></td>
<td align="left"></td>
</tr>
</tbody>
</table>
<div id="the-drake-r-package" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#the-drake-r-package" class="anchor"></a>The drake R package <img src="https://ropensci.github.io/drake/images/logo.svg" align="right" alt="logo" width="120" height="139" style="border: none; float: right;">
</h1></div>
<p>The <code>drake</code> R package is a workflow manager and computational engine for data science projects. Its primary objective is to keep results up to date with the underlying code and data. When it runs a project, <code>drake</code> detects any pre-existing output and refreshes the pieces that are outdated or missing. Not every runthrough starts from scratch, and the final answers are reproducible. With a user-friendly R-focused interface, <a href="https://ropensci.github.io/drake/">comprehensive documentation</a>, and <a href="https://github.com/ropensci/drake/blob/master/vignettes/parallelism.Rmd">extensive implicit parallel computing support</a>, <code>drake</code> surpasses the analogous functionality in similar tools such as <a href="www.gnu.org/software/make/">Make</a>, <a href="https://github.com/richfitz/remake">remake</a>, <a href="https://github.com/r-lib/memoise">memoise</a>, and <a href="https://github.com/yihui/knitr">knitr</a>.</p>
</div>
<div id="what-gets-done-stays-done-" class="section level1">
<h1 class="hasAnchor">
<a href="#what-gets-done-stays-done-" class="anchor"></a>What gets done stays done.</h1>
<p>Too many data science projects follow a <a href="https://en.wikipedia.org/wiki/Sisyphus">Sisyphean loop</a>:</p>
<ol>
<li>Launch the code.</li>
<li>Wait for it to finish.</li>
<li>Discover an issue.</li>
<li>Restart from scratch.</li>
</ol>
<p>But <code>drake</code> automatically</p>
<ol>
<li>Launches the parts that changed since the last runthrough.</li>
<li>Skips the rest.</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(drake)

<span class="co"># Drake comes with a basic example.</span>
<span class="co"># Get the code with drake_example("basic").</span>
<span class="kw"><a href="reference/load_basic_example.html">load_basic_example</a></span>(<span class="dt">verbose =</span> <span class="ot">FALSE</span>)

<span class="co"># Your workspace starts with a bunch of "imports":</span>
<span class="co"># functions, pre-loaded data objects, and saved files</span>
<span class="co"># available before the real work begins.</span>

<span class="co"># Drake looks for data objects in your R session environment</span>
<span class="kw">ls</span>()

## [1] "my_plan"     "random_rows" "reg1"        "reg2"        "simulate"

<span class="co"># and saved files in your file system.</span>
<span class="kw">list.files</span>()

## [1] "report.Rmd"

<span class="co"># The real work is outlined step-by-step in the `my_plan` data frame.</span>
<span class="co"># The steps are called "targets", and they depend on the imports.</span>
<span class="co"># File targets have the names in `file_out()`, and the non-file</span>
<span class="co"># targets have the names in the `target` column of the data frame.</span>
<span class="co"># Drake's `make()` function runs the commands to build the targets</span>
<span class="co"># in the correct order.</span>
<span class="kw">head</span>(my_plan)

## # A tibble: 6 x 2
##   target            command                                                                      
##   &lt;chr&gt;             &lt;chr&gt;                                                                        
## 1 ""                "knit(knitr_in(\"report.Rmd\"), file_out(\"report.md\"), quiet = TRUE)"
## 2 small             simulate(48)                                                                 
## 3 large             simulate(64)                                                                 
## 4 regression1_small reg1(small)                                                                  
## 5 regression1_large reg1(large)                                                                  
## 6 regression2_small reg2(small)  

<span class="co"># First round: drake builds all 15 targets.</span>
<span class="kw"><a href="reference/make.html">make</a></span>(my_plan) 

## target large
## target small
## target regression1_large
## target regression1_small
## target regression2_large
## target regression2_small
## target coef_regression1_large
## target coef_regression1_small
## target coef_regression2_large
## target coef_regression2_small
## target summ_regression1_large
## target summ_regression1_small
## target summ_regression2_large
## target summ_regression2_small
## target "report.md"

<span class="co"># If you change the reg2() function,</span>
<span class="co"># all the regression2 targets are out of date,</span>
<span class="co"># which in turn affects 'report.md'.</span>
reg2 &lt;-<span class="st"> </span>function(d){    
  d$x4 &lt;-<span class="st"> </span>d$x ^<span class="st"> </span><span class="dv">4</span>
  <span class="kw">lm</span>(y ~<span class="st"> </span>x4, <span class="dt">data =</span> d)
}

<span class="co"># Second round: drake only rebuilds the targets</span>
<span class="co"># that depend on the things you changed.</span>
<span class="kw"><a href="reference/make.html">make</a></span>(my_plan)

## target regression2_large
## target regression2_small
## target coef_regression2_large
## target coef_regression2_small
## target summ_regression2_large
## target summ_regression2_small
## target "report.md"

<span class="co"># If nothing important changed, drake rebuilds nothing.</span>
<span class="kw"><a href="reference/make.html">make</a></span>(my_plan)

## All targets are already up to date.

<span class="co"># Drake cares about nested functions too:</span>
<span class="co"># with the exception of trivial formatting edits,</span>
<span class="co"># changes to `random_rows()` will propagate to `simulate()`</span>
<span class="co"># and all the downstream targets.</span>
<span class="co"># Try it!</span></code></pre></div>
</div>
<div id="reproducibility-with-confidence" class="section level1">
<h1 class="hasAnchor">
<a href="#reproducibility-with-confidence" class="anchor"></a>Reproducibility with confidence</h1>
<p>The R community emphasizes reproducibility. Traditional themes include <a href="https://en.wikipedia.org/wiki/Replication_crisis">scientific replicability</a>, literate programming with <a href="https://yihui.name/knitr/">knitr</a>, and version control with <a href="https://git-scm.com/book/en/v2/Getting-Started-About-Version-Control">git</a>. But internal consistency is important too. Reproducibility carries the promise that your output matches the code and data you say you used.</p>
<div id="evidence" class="section level2">
<h2 class="hasAnchor">
<a href="#evidence" class="anchor"></a>Evidence</h2>
<p>Suppose you are reviewing someone else’s data analysis project for reproducibility. You scrutinize it carefully, checking that the datasets are available and the documentation is thorough. But could you re-create the results without the help of the original author? With <code>drake</code>, it is quick and easy to find out.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/make.html">make</a></span>(my_plan)

## All targets are already up to date.

config &lt;-<span class="st"> </span><span class="kw"><a href="reference/drake_config.html">drake_config</a></span>(my_plan)
<span class="kw"><a href="reference/outdated.html">outdated</a></span>(config)

## character(0)</code></pre></div>
<p>With everything already up to date, you have <strong>tangible evidence</strong> of reproducibility. Even though you did not re-create the results, you know the results are re-creatable. They <strong>faithfully show</strong> what the code is producing. Given the right <a href="https://rstudio.github.io/packrat/">package environment</a> and <a href="https://stat.ethz.ch/R-manual/R-devel/library/utils/html/sessionInfo.html">system configuration</a>, you have everything you need to reproduce all the output by yourself.</p>
</div>
<div id="ease" class="section level2">
<h2 class="hasAnchor">
<a href="#ease" class="anchor"></a>Ease</h2>
<p>When it comes time to actually rerun the entire project, you have much more confidence. Starting over from scratch is trivially easy.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/clean.html">clean</a></span>()       <span class="co"># Remove the original author's results.</span>
<span class="kw"><a href="reference/make.html">make</a></span>(my_plan) <span class="co"># Independently re-create the results from the code and input data.</span></code></pre></div>
</div>
<div id="independent-replication" class="section level2">
<h2 class="hasAnchor">
<a href="#independent-replication" class="anchor"></a>Independent replication</h2>
<p>With even more evidence and confidence, you can invest the time to independently replicate the original code base if necessary. Up until this point, you relied on basic <code>drake</code> functions such as <code><a href="reference/make.html">make()</a></code>, so you may not have needed to peek at any substantive author-defined code in advance. In that case, you can stay usefully ignorant as you reimplement the original author’s methodology. In other words, <code>drake</code> could potentially improve the integrity of independent replication.</p>
</div>
</div>
<div id="aggressively-scale-up-" class="section level1">
<h1 class="hasAnchor">
<a href="#aggressively-scale-up-" class="anchor"></a>Aggressively scale up.</h1>
<p>Not every project can complete in a single R session on your laptop. Some projects need more speed or computing power. Some require a few local processor cores, and some need large high-performance computing systems. But parallel computing is hard. Your tables and figures depend on your analysis results, and your analyses depend on your datasets, so some tasks must finish before others even begin. But <code>drake</code> knows what to do. Parallelism is implicit and automatic. See the <a href="https://github.com/ropensci/drake/blob/master/vignettes/parallelism.Rmd">parallelism vignette</a> for all the details.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Use the spare cores on your local machine.</span>
<span class="kw"><a href="reference/make.html">make</a></span>(my_plan, <span class="dt">jobs =</span> <span class="dv">4</span>)

<span class="co"># Scale up to a supercomputer.</span>
<span class="kw"><a href="reference/drake_batchtools_tmpl_file.html">drake_batchtools_tmpl_file</a></span>(<span class="st">"slurm"</span>) <span class="co"># https://slurm.schedmd.com/</span>
<span class="kw">library</span>(future.batchtools)
future::<span class="kw"><a href="reference/plan.html">plan</a></span>(batchtools_slurm, <span class="dt">template =</span> <span class="st">"batchtools.slurm.tmpl"</span>, <span class="dt">workers =</span> <span class="dv">100</span>)
<span class="kw"><a href="reference/make.html">make</a></span>(my_plan, <span class="dt">parallelism =</span> <span class="st">"future_lapply"</span>)</code></pre></div>
<p>The network graph allows <code>drake</code> to wait for dependencies.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Change some code.</span>
reg2 &lt;-<span class="st"> </span>function(d){    
  d$x3 &lt;-<span class="st"> </span>d$x ^<span class="st"> </span><span class="dv">3</span>
  <span class="kw">lm</span>(y ~<span class="st"> </span>x3, <span class="dt">data =</span> d)
}

<span class="co"># Plot an interactive graph.</span>
config &lt;-<span class="st"> </span><span class="kw"><a href="reference/drake_config.html">drake_config</a></span>(my_plan)
<span class="kw"><a href="reference/vis_drake_graph.html">vis_drake_graph</a></span>(config)</code></pre></div>
<iframe
    src = 'https://ropensci.github.io/drake/images/reg2.html'
    width = '100%' height = '600px' allowtransparency='true'
    style='border: none; box-shadow: none'>
    </iframe>
<p>Within each column above, the nodes are conditionally independent given their dependencies. Each <code><a href="reference/make.html">make()</a></code> walks through the columns from left to right and applies parallel processing within each column. If any nodes are already up to date, <code>drake</code> looks downstream to maximize the number of outdated targets in a parallelizable stage. To show the parallelizable stages of the next <code><a href="reference/make.html">make()</a></code> programmatically, use the <code><a href="reference/parallel_stages.html">parallel_stages()</a></code> function.</p>
</div>
<div id="installation" class="section level1">
<h1 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h1>
<p>You can choose among different versions of <code>drake</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Install the latest stable release from CRAN.</span>
<span class="kw">install.packages</span>(<span class="st">"drake"</span>)

<span class="co"># Alternatively, install the development version from GitHub.</span>
<span class="kw">install.packages</span>(<span class="st">"devtools"</span>)
<span class="kw">library</span>(devtools)
<span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"ropensci/drake"</span>)</code></pre></div>
<ul>
<li>You must properly install <code>drake</code> using <code>install.packages()</code>, <code><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">devtools::install_github()</a></code>, or similar. It is not enough to use <code><a href="http://www.rdocumentation.org/packages/devtools/topics/load_all">devtools::load_all()</a></code>, particularly for the parallel computing functionality, in which multiple R sessions initialize and then try to <code>require(drake)</code>.</li>
<li>For <code><a href="reference/make.html">make(..., parallelism = "Makefile")</a></code>, Windows users need to download and install <a href="https://cran.r-project.org/bin/windows/Rtools/"><code>Rtools</code></a>.</li>
<li>If you want to build <a href="https://github.com/ropensci/drake/tree/master/vignettes">the vignettes</a> when you install the development version, you must
<ol>
<li>Install all the packages in the <code>Suggests:</code> field of the <a href="https://github.com/ropensci/drake/blob/master/DESCRIPTION">DESCRIPTION file</a>, including <a href="https://cran.r-project.org/package=cranlogs">cranlogs</a> and <a href="https://cran.r-project.org/package=Ecdat">Ecdat</a>. All these packages are available through the <a href="https://cran.r-project.org">Comprehensive R Archive Network (CRAN)</a>, and you can install them with <code>install.packages()</code>.</li>
<li>Set the <code>build</code> argument to <code>TRUE</code> in <code><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github()</a></code>.</li>
</ol>
</li>
</ul>
</div>
<div id="documentation" class="section level1">
<h1 class="hasAnchor">
<a href="#documentation" class="anchor"></a>Documentation</h1>
<p>The main resources to learn <code>drake</code> are</p>
<ol>
<li>The <a href="https://ropensci.github.io/drake/">documentation website</a>
</li>
<li>
<a href="https://github.com/krlmlr">Kirill Müller</a>’s <a href="https://github.com/krlmlr/drake-sib-zurich"><code>drake</code> workshop from March 5, 2018</a>.</li>
</ol>
<div id="cheat-sheet" class="section level2">
<h2 class="hasAnchor">
<a href="#cheat-sheet" class="anchor"></a>Cheat sheet</h2>
<p>Thanks to <a href="https://github.com/krlmlr">Kirill</a> for preparing a <a href="https://github.com/krlmlr/drake-sib-zurich/blob/master/cheat-sheet.pdf"><code>drake</code> cheat sheet</a> for the <a href="https://github.com/krlmlr/drake-sib-zurich">workshop</a>.</p>
</div>
<div id="frequently-asked-questions" class="section level2">
<h2 class="hasAnchor">
<a href="#frequently-asked-questions" class="anchor"></a>Frequently asked questions</h2>
<p>The <a href="https://ropensci.github.io/drake/articles/faq.html">FAQ page</a> is an index of links to <a href="https://github.com/ropensci/drake/issues?q=is%3Aissue+is%3Aopen+label%3A%22frequently+asked+question%22">appropriately-labeled issues on GitHub</a>. To contribute, please <a href="https://github.com/ropensci/drake/issues/new">submit a new issue</a> and ask that it be labeled as a frequently asked question.</p>
</div>
<div id="function-reference" class="section level2">
<h2 class="hasAnchor">
<a href="#function-reference" class="anchor"></a>Function reference</h2>
<p>The <a href="https://ropensci.github.io/drake/reference/index.html">reference section</a> lists all the available functions. Here are the most important ones.</p>
<ul>
<li>
<code><a href="reference/drake_plan.html">drake_plan()</a></code>: create a workflow data frame (like <code>my_plan</code>).</li>
<li>
<code><a href="reference/make.html">make()</a></code>: build your project.</li>
<li>
<code><a href="reference/loadd.html">loadd()</a></code>: load one or more built targets into your R session.</li>
<li>
<code><a href="reference/readd.html">readd()</a></code>: read and return a built target.</li>
<li>
<code><a href="reference/drake_config.html">drake_config()</a></code>: create a master configuration list for other user-side functions.</li>
<li>
<code><a href="reference/vis_drake_graph.html">vis_drake_graph()</a></code>: show an interactive visual network representation of your workflow.</li>
<li>
<code><a href="reference/outdated.html">outdated()</a></code>: see which targets will be built in the next <code><a href="reference/make.html">make()</a></code>.</li>
<li>
<code><a href="reference/deps.html">deps()</a></code>: check the dependencies of a command or function.</li>
<li>
<code><a href="reference/failed.html">failed()</a></code>: list the targets that failed to build in the last <code><a href="reference/make.html">make()</a></code>.</li>
<li>
<code><a href="reference/diagnose.html">diagnose()</a></code>: return the full context of a build, including errors, warnings, and messages.</li>
</ul>
</div>
<div id="tutorials" class="section level2">
<h2 class="hasAnchor">
<a href="#tutorials" class="anchor"></a>Tutorials</h2>
<p>Thanks to <a href="https://github.com/krlmlr">Kirill</a> for constructing two interactive <a href="https://rstudio.github.io/learnr/"><code>learnr</code></a> tutorials: <a href="https://krlmlr.shinyapps.io/cooking-drake-tutorial/">one supporting <code>drake</code> itself</a>, and a <a href="https://krlmlr.shinyapps.io/cooking-tutorial/">prerequisite walkthrough</a> of the <a href="https://github.com/krlmlr/cooking"><code>cooking</code> package</a>.</p>
<p>The articles below are tutorials taken from the <a href="https://github.com/ropensci/drake/tree/master/vignettes">package vignettes</a>.</p>
<ul>
<li><a href="https://ropensci.github.io/drake/articles/drake.html">Get started</a></li>
<li><a href="https://ropensci.github.io/drake/articles/example-packages.html">Example: R package download trends</a></li>
<li><a href="https://ropensci.github.io/drake/articles/example-gsp.html">Example: gross state products</a></li>
<li><a href="https://ropensci.github.io/drake/articles/example-basic.html">Basic example</a></li>
<li><a href="https://ropensci.github.io/drake/articles/best-practices.html">General best practices</a></li>
<li><a href="https://ropensci.github.io/drake/articles/caution.html">Cautionary notes and edge cases</a></li>
<li><a href="https://ropensci.github.io/drake/articles/debug.html">Debugging and testing drake projects</a></li>
<li><a href="https://ropensci.github.io/drake/articles/graph.html">Graphs with drake</a></li>
<li><a href="https://ropensci.github.io/drake/articles/parallelism.html">Parallel computing</a></li>
<li><a href="https://ropensci.github.io/drake/articles/timing.html">Time logging</a></li>
<li><a href="https://ropensci.github.io/drake/articles/storage.html">Storage</a></li>
</ul>
</div>
<div id="examples" class="section level2">
<h2 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h2>
<p><code>Drake</code> also has built-in example projects with code files <a href="https://github.com/ropensci/drake/tree/master/inst/examples">available here</a>. You can generate the files for a project with <code><a href="reference/drake_example.html">drake_example()</a></code> (e.g. <code><a href="reference/drake_example.html">drake_example("gsp")</a></code>), and you can list the available projects with <code><a href="reference/drake_examples.html">drake_examples()</a></code>. The beginner-oriented examples are listed below. They help you learn <code>drake</code>’s main features, and they show one way to organize the files of <code>drake</code> projects.</p>
<ul>
<li>
<code>basic</code>: A tiny, minimal example with the <code>mtcars</code> dataset to demonstrate how to use <code>drake</code>. Use <code><a href="reference/load_basic_example.html">load_basic_example()</a></code> to set up the project in your workspace. The <a href="https://github.com/ropensci/drake/blob/master/vignettes/quickstart.Rmd">quickstart vignette</a> is a parallel walkthrough of the same example.</li>
<li>
<code>gsp</code>: A concrete example using real econometrics data. It explores the relationships between gross state product and other quantities, and it shows off <code>drake</code>’s ability to generate lots of reproducibly-tracked tasks with ease.</li>
<li>
<code>packages</code>: A concrete example using data on R package downloads. It demonstrates how <code>drake</code> can refresh a project based on new incoming data without restarting everything from scratch.</li>
</ul>
</div>
<div id="presentations" class="section level2">
<h2 class="hasAnchor">
<a href="#presentations" class="anchor"></a>Presentations</h2>
<ul>
<li><a href="https://krlmlr.github.io/drake-pitch" class="uri">https://krlmlr.github.io/drake-pitch</a></li>
<li><a href="https://krlmlr.github.io/slides/drake-sib-zurich" class="uri">https://krlmlr.github.io/slides/drake-sib-zurich</a></li>
<li><a href="https://krlmlr.github.io/slides/drake-sib-zurich/cooking.html" class="uri">https://krlmlr.github.io/slides/drake-sib-zurich/cooking.html</a></li>
</ul>
</div>
<div id="context-and-history" class="section level2">
<h2 class="hasAnchor">
<a href="#context-and-history" class="anchor"></a>Context and history</h2>
<p>For context and history, check out <a href="https://ropensci.org/blog/2018/02/06/drake/">this post on the rOpenSci blog</a> and <a href="https://www.r-podcast.org/episode/022-diving-in-to-drake-with-will-landau/">episode 22 of the R Podcast</a>.</p>
</div>
</div>
<div id="help-and-troubleshooting" class="section level1">
<h1 class="hasAnchor">
<a href="#help-and-troubleshooting" class="anchor"></a>Help and troubleshooting</h1>
<p>The following resources document many known issues and challenges.</p>
<ul>
<li>
<a href="https://github.com/ropensci/drake/issues?q=is%3Aissue+is%3Aopen+label%3A%22Frequently+Asked+Question%22">Frequently-asked questions</a>.</li>
<li><a href="https://ropensci.github.io/drake/articles/caution.html">Cautionary notes and edge cases</a></li>
<li><a href="https://ropensci.github.io/drake/articles/debug.html">Debugging and testing drake projects</a></li>
<li>
<a href="https://github.com/ropensci/drake/issues">Other known issues</a> (please search both open and closed ones).</li>
</ul>
<p>If you are still having trouble, please submit a <a href="https://github.com/ropensci/drake/issues/new">new issue</a> with a bug report or feature request, along with a minimal reproducible example where appropriate.</p>
</div>
<div id="contributing" class="section level1">
<h1 class="hasAnchor">
<a href="#contributing" class="anchor"></a>Contributing</h1>
<p>Bug reports, suggestions, and especially code contributions are welcome. Please see <a href="https://github.com/ropensci/drake/blob/master/CONTRIBUTING.md">CONTRIBUTING.md</a>. Maintainers and contributors must follow this repository’s <a href="https://github.com/ropensci/drake/blob/master/CONDUCT.md">code of conduct</a>.</p>
</div>
<div id="similar-work" class="section level1">
<h1 class="hasAnchor">
<a href="#similar-work" class="anchor"></a>Similar work</h1>
<div id="gnu-make" class="section level2">
<h2 class="hasAnchor">
<a href="#gnu-make" class="anchor"></a>GNU Make</h2>
<p>The original idea of a time-saving reproducible build system extends back at least as far as <a href="https://www.gnu.org/software/make/">GNU Make</a>, which still aids the work of <a href="http://blog.kaggle.com/2012/10/15/make-for-data-scientists/">data scientists</a> as well as the original user base of complied language programmers. In fact, the name “drake” stands for “Data Frames in R for Make”. <a href="http://kbroman.org/minimal_make/">Make</a> is used widely in reproducible research. Below are some examples from <a href="http://kbroman.org/minimal_make/">Karl Broman’s website</a>.</p>
<ul>
<li>Bostock, Mike (2013). “A map of flowlines from NHDPlus.” <a href="https://github.com/mbostock/us-rivers" class="uri">https://github.com/mbostock/us-rivers</a>. Powered by the Makefile at <a href="https://github.com/mbostock/us-rivers/blob/master/Makefile" class="uri">https://github.com/mbostock/us-rivers/blob/master/Makefile</a>.</li>
<li>Broman, Karl W (2012). “Halotype Probabilities in Advanced Intercross Populations.” <em>G3</em> 2(2), 199-202.Powered by the <code>Makefile</code> at <a href="https://github.com/kbroman/ailProbPaper/blob/master/Makefile" class="uri">https://github.com/kbroman/ailProbPaper/blob/master/Makefile</a>.</li>
<li>Broman, Karl W (2012). “Genotype Probabilities at Intermediate Generations in the Construction of Recombinant Inbred Lines.” *Genetics 190(2), 403-412. Powered by the Makefile at <a href="https://github.com/kbroman/preCCProbPaper/blob/master/Makefile" class="uri">https://github.com/kbroman/preCCProbPaper/blob/master/Makefile</a>.</li>
<li>Broman, Karl W and Kim, Sungjin and Sen, Saunak and Ane, Cecile and Payseur, Bret A (2012). “Mapping Quantitative Trait Loci onto a Phylogenetic Tree.” <em>Genetics</em> 192(2), 267-279. Powered by the <code>Makefile</code> at <a href="https://github.com/kbroman/phyloQTLpaper/blob/master/Makefile" class="uri">https://github.com/kbroman/phyloQTLpaper/blob/master/Makefile</a>.</li>
</ul>
<p>There are several reasons for R users to prefer <code>drake</code> instead.</p>
<ul>
<li>
<code>Drake</code> already has a <a href="http://kbroman.org/minimal_make/">Make</a>-powered parallel backend. Just run <code><a href="reference/make.html">make(..., parallelism = "Makefile", jobs = 2)</a></code> to enjoy most of the original benefits of <a href="http://kbroman.org/minimal_make/">Make</a> itself.</li>
<li>Improved scalability. With <a href="http://kbroman.org/minimal_make/">Make</a>, you must write a potentially large and cumbersome <a href="https://github.com/kbroman/preCCProbPaper/blob/master/Makefile">Makefile</a> by hand. But with <code>drake</code>, you can use <a href="https://github.com/ropensci/drake/blob/master/vignettes/quickstart.Rmd#generate-the-workflow-plan">wildcard templating</a> to automatically generate massive collections of targets with minimal code.</li>
<li>Lower overhead for light-weight tasks. For each <a href="http://kbroman.org/minimal_make/">Make</a> target that uses R, a brand new R session must spawn. For projects with thousands of small targets, that means more time may be spent loading R sessions than doing the actual work. With <code><a href="reference/make.html">make(..., parallelism = "mclapply, jobs = 4")</a></code>, <code>drake</code> launches 4 persistent workers up front and efficiently processes the targets in R.</li>
<li>Convenient organization of output. With <a href="http://kbroman.org/minimal_make/">Make</a>, the user must save each target as a file. <code>Drake</code> saves all the results for you automatically in a <a href="https://github.com/richfitz/storr">storr cache</a> so you do not have to micromanage the results.</li>
</ul>
</div>
<div id="remake" class="section level2">
<h2 class="hasAnchor">
<a href="#remake" class="anchor"></a>Remake</h2>
<p><a href="https://github.com/ropensci/drake">Drake</a> overlaps with its direct predecessor, <a href="https://github.com/richfitz/remake">remake</a>. In fact, <a href="https://github.com/ropensci/drake">drake</a> owes its core ideas to <a href="https://github.com/richfitz/remake">remake</a> and <a href="https://github.com/richfitz/remake">Rich Fitzjohn</a>. <a href="https://github.com/richfitz/remake">Remake</a>’s development repository lists several <a href="https://github.com/richfitz/remake/blob/master/README.md#real-world-examples">real-world applications</a>. <a href="https://github.com/ropensci/drake">Drake</a> surpasses <a href="https://github.com/richfitz/remake">remake</a> in several important ways, including but not limited to the following.</p>
<ol>
<li>High-performance computing. <a href="https://github.com/richfitz/remake">Remake</a> has no native parallel computing support. <a href="https://github.com/ropensci/drake">Drake</a>, on the other hand, has a <a href="https://github.com/ropensci/drake/blob/master/vignettes/parallelism.Rmd">vast arsenal</a> of parallel computing options, from local multicore computing to serious distributed computing. Thanks to <a href="github.com/HenrikBengtsson/future">future</a>, <a href="github.com/HenrikBengtsson/future.batchtools">future.batchtools</a>, and <a href="github.com/mllg/batchtools">batchtools</a>, it is straightforward to configure a <a href="https://github.com/ropensci/drake">drake</a> project for most popular job schedulers, such as <a href="https://github.com/ropensci/drake/tree/master/inst/examples/slurm">SLURM</a>, <a href="https://github.com/ropensci/drake/tree/master/inst/examples/torque">TORQUE</a>, and the <a href="https://github.com/ropensci/drake/tree/master/inst/examples/sge">Sun/Univa Grid Engine</a>, as well as systems contained in <a href="https://github.com/ropensci/drake/tree/master/inst/examples/Docker-psock">Docker images</a>.</li>
<li>A friendly interface. In <a href="https://github.com/richfitz/remake">remake</a>, the user must manually write a <a href="https://github.com/richfitz/remake/blob/master/doc/remake.yml">YAML</a> configuration file to arrange the steps of a workflow, which leads to some of the same scalability problems as <a href="https://www.gnu.org/software/make/">Make</a>. <a href="https://github.com/ropensci/drake">Drake</a>’s data-frame-based interface and <a href="https://github.com/ropensci/drake/blob/master/vignettes/quickstart.Rmd#generate-the-workflow-plan">wildcard templating functionality</a> easily generate workflows at scale.</li>
<li>Thorough documentation. <a href="https://github.com/ropensci/drake">Drake</a> contains <a href="https://github.com/ropensci/drake/tree/master/vignettes">several vignettes</a>, a <a href="https://github.com/ropensci/drake/blob/master/README.md">comprehensive README</a>, examples in the help files of user-side functions, and <a href="https://github.com/ropensci/drake/tree/master/inst/examples">accessible example code</a> that users can write with <code><a href="http://www.rdocumentation.org/packages/drake/topics/example_drake">drake::example_drake()</a></code>.</li>
<li>Active maintenance. <a href="https://github.com/ropensci/drake">Drake</a> is actively developed and maintained, and <a href="https://github.com/ropensci/drake/issues">issues</a> are usually solved promptly.</li>
<li>Presence on CRAN. At the time of writing, <a href="https://github.com/ropensci/drake">drake</a> is <a href="https://cran.r-project.org/package=drake">available on CRAN</a>, but <a href="https://github.com/richfitz/remake">remake</a> is not.</li>
</ol>
</div>
<div id="memoise" class="section level2">
<h2 class="hasAnchor">
<a href="#memoise" class="anchor"></a>Memoise</h2>
<p>Memoization is the strategic caching of the return values of functions. Every time a memoized function is called with a new set of arguments, the return value is saved for future use. Later, whenever the same function is called with the same arguments, the previous return value is salvaged, and the function call is skipped to save time. The <a href="https://github.com/r-lib/memoise">memoise package</a> is an excellent implementation of memoization in R.</p>
<p>However, memoization does not go far enough. In reality, the return value of a function depends not only on the function body and the arguments, but also on any nested functions and global variables, the dependencies of those dependencies, and so on upstream. <code>Drake</code> surpasses <a href="https://github.com/r-lib/memoise">memoise</a> because it uses the <em>entire dependency network graph</em> of a project to decide which pieces need to be rebuilt and which ones can be skipped.</p>
</div>
<div id="knitr" class="section level2">
<h2 class="hasAnchor">
<a href="#knitr" class="anchor"></a>Knitr</h2>
<p>Much of the R community uses <a href="https://yihui.name/knitr/">knitr</a> for reproducible research. The idea is to intersperse code chunks in an <a href="http://rmarkdown.rstudio.com/">R Markdown</a> or <code>*.Rnw</code> file and then generate a dynamic report that weaves together code, output, and prose. <a href="https://yihui.name/knitr/">Knitr</a> is not designed to be a serious <a href="https://github.com/pditommaso/awesome-pipeline">pipeline toolkit</a>, and it should not be the primary computational engine for medium to large data analysis projects.</p>
<ol>
<li>
<a href="https://yihui.name/knitr/">Knitr</a> scales far worse than <a href="https://www.gnu.org/software/make/">Make</a> or <a href="https://github.com/richfitz/remake">remake</a>. The whole point is to consolidate output and prose, so it deliberately lacks the essential modularity.</li>
<li>There is no obvious high-performance computing support.</li>
<li>While there is a way to skip chunks that are already up to date (with code chunk options <code>cache</code> and <code>autodep</code>), this functionality is not the focus of <a href="https://yihui.name/knitr/">knitr</a>. It is deactivated by default, and <a href="https://github.com/richfitz/remake">remake</a> and <code>drake</code> are more dependable ways to skip work that is already up to date.</li>
</ol>
<p>As in the <a href="https://github.com/ropensci/drake/tree/master/inst/examples/basic">basic example</a> demonstrates, <code>drake</code> should manage the entire workflow, and any <a href="https://yihui.name/knitr/">knitr</a> reports should quickly build as targets at the very end. The strategy is analogous for <a href="https://yihui.name/knitr/">knitr</a> reports within <a href="https://github.com/richfitz/remake">remake</a> projects.</p>
</div>
<div id="factuals-drake" class="section level2">
<h2 class="hasAnchor">
<a href="#factuals-drake" class="anchor"></a>Factual’s Drake</h2>
<p><a href="https://github.com/Factual/drake">Factual’s Drake</a> is similar in concept, but the development effort is completely unrelated to the <a href="https://github.com/ropensci/drake">drake R package</a>.</p>
</div>
<div id="other-pipeline-toolkits" class="section level2">
<h2 class="hasAnchor">
<a href="#other-pipeline-toolkits" class="anchor"></a>Other pipeline toolkits</h2>
<p>There are <a href="https://github.com/pditommaso/awesome-pipeline">countless other successful pipeline toolkits</a>. The <code>drake</code> package distinguishes itself with its R-focused approach, Tidyverse-friendly interface, and <a href="https://github.com/ropensci/drake/blob/master/vignettes/parallelism.Rmd#parallel-backends">wide selection of parallel computing backends</a>.</p>
</div>
</div>
<div id="acknowledgements" class="section level1">
<h1 class="hasAnchor">
<a href="#acknowledgements" class="anchor"></a>Acknowledgements</h1>
<p>Special thanks to <a href="http://www.jarad.me/">Jarad Niemi</a>, my advisor from <a href="http://stat.iastate.edu/">graduate school</a>, for first introducing me to the idea of <a href="https://www.gnu.org/software/make/">Makefiles</a> for research. He originally set me down the path that led to <code>drake</code>.</p>
<p>Many thanks to <a href="https://github.com/jules32">Julia Lowndes</a>, <a href="https://github.com/benmarwick">Ben Marwick</a>, and <a href="https://github.com/gothub">Peter Slaughter</a> for <a href="https://github.com/ropensci/onboarding/issues/156">reviewing drake for rOpenSci</a>, and to <a href="https://github.com/maelle">Maëlle Salmon</a> for such active involvement as the editor. Thanks also to the following people for contributing early in development.</p>
<ul>
<li><a href="https://github.com/AlexAxthelm">Alex Axthelm</a></li>
<li><a href="https://github.com/mrchypark">Chan-Yub Park</a></li>
<li><a href="https://github.com/dfalster">Daniel Falster</a></li>
<li><a href="https://github.com/thercast">Eric Nantz</a></li>
<li><a href="https://github.com/HenrikBengtsson">Henrik Bengtsson</a></li>
<li><a href="https://github.com/IanAWatson">Ian Watson</a></li>
<li><a href="https://github.com/dapperjapper">Jasper Clarkberg</a></li>
<li><a href="https://github.com/kendonB">Kendon Bell</a></li>
<li><a href="https://github.com/krlmlr">Kirill Müller</a></li>
</ul>
<p>Credit for images is <a href="https://github.com/ropensci/drake/blob/master/docs/images/image-credit.md">attributed here</a>.</p>
<p><a href="https://ropensci.org"><img src="http://ropensci.org/public_images/github_footer.png" alt="ropensci_footer"></a></p>
</div>

  </div>

  <div class="col-md-3" id="sidebar">
    <h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cran.r-project.org/package=drake">https://​cran.r-project.org/​package=drake</a>
</li>
<li>Browse source code at <br><a href="https://github.com/ropensci/drake">https://​github.com/​ropensci/​drake</a>
</li>
<li>Report a bug at <br><a href="https://github.com/ropensci/drake/issues">https://​github.com/​ropensci/​drake/​issues</a>
</li>
</ul>
<h2>License</h2>
<p><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></p>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>William Michael Landau <br><small class="roles"> Author, maintainer </small> </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by William Michael Landau.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
